{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Setup Purpose and Scope The purpose of this site is document a Payment Service. It is a service made for the discipline of Service Engineering, Computer Engineering and Telematics course at the University of Aveiro. This service contemples just a generation and management of an account and the payments made by this account. In the API TAB has a description of the methods of API. In the Thoughts and Decisions TAB has some publications to justify why was made a specific choice for a specific point in API Project Structure mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. account.md # The description about the account methods payment.md # The description about the payment methods apiOperations.md # Some considerations about the API about.md # Some points about the author of the Service gunicorn # The file descriving why using gunicorn img/ # A folder with the images used in the documentation How to initiate? Conventional Create a virtual environment sudo pip install virtualenv virtualenv venv --python = python3 source venv/bin/activate Install the requirements pip install -r requirements.pip Initiate the Gunicorn In the file PaymentService.py, you can change the exposed port for the database gunicorn PaymentService:app -b 0 .0.0.0:6000 Docker You must install docker and docker-compose Into the folder \"Project\" run the command : docker-compose up If you want run the containers in the background, change the command to: docker-compose up -d To stop the containers, inside the Project folder, run the command: docker-compose stop","title":"Home"},{"location":"#setup","text":"","title":"Setup"},{"location":"#purpose-and-scope","text":"The purpose of this site is document a Payment Service. It is a service made for the discipline of Service Engineering, Computer Engineering and Telematics course at the University of Aveiro. This service contemples just a generation and management of an account and the payments made by this account. In the API TAB has a description of the methods of API. In the Thoughts and Decisions TAB has some publications to justify why was made a specific choice for a specific point in API","title":"Purpose and Scope"},{"location":"#project-structure","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. account.md # The description about the account methods payment.md # The description about the payment methods apiOperations.md # Some considerations about the API about.md # Some points about the author of the Service gunicorn # The file descriving why using gunicorn img/ # A folder with the images used in the documentation","title":"Project Structure"},{"location":"#how-to-initiate","text":"","title":"How to initiate?"},{"location":"#conventional","text":"","title":"Conventional"},{"location":"#create-a-virtual-environment","text":"sudo pip install virtualenv virtualenv venv --python = python3 source venv/bin/activate","title":"Create a virtual environment"},{"location":"#install-the-requirements","text":"pip install -r requirements.pip","title":"Install the requirements"},{"location":"#initiate-the-gunicorn","text":"In the file PaymentService.py, you can change the exposed port for the database gunicorn PaymentService:app -b 0 .0.0.0:6000","title":"Initiate the Gunicorn"},{"location":"#docker","text":"You must install docker and docker-compose Into the folder \"Project\" run the command : docker-compose up If you want run the containers in the background, change the command to: docker-compose up -d To stop the containers, inside the Project folder, run the command: docker-compose stop","title":"Docker"},{"location":"about/","text":"About My name is Daniel Martins. I am in the last year of Integrated Master of Computers and Telematics. Follow me on : Facebook Linkedin Tumblr Instagram Github","title":"About"},{"location":"about/#about","text":"My name is Daniel Martins. I am in the last year of Integrated Master of Computers and Telematics. Follow me on : Facebook Linkedin Tumblr Instagram Github","title":"About"},{"location":"account/","text":"Page last revised on: 2019-10-14 Account Create Account This endpoint creates one account. Note At the moment of creating an account, an outsourcing already offers a unique identifying ID that identifies the user. You only need to match this ID to an account. Warning If the external source is a social network, for example, a user can sign in with Facebook or Instagram and this generates 2 different users. Request POST /account Content-Type : application/json Field Description Format user_id the user ID UUID currency the account currency 3-letter ISO currency code Response Content-Type : application/json Field Description Format id the account ID UUID user_id the user ID UUID currency the account currency 3-letter ISO currency code balance the available balance Decimal state the account state, one of active , inactive Boolean created_at the instant when the account was created ISO date/time updated_at the instant when the account was last updated ISO date/time Add Amount This endpoint permits add an amount to an account Request POST /account/<id>/amount Content-Type : application/json Field Description Format amount amount to add to account Decimal Response Content-Type : application/json [General Response] Activate Account This endpoints activate an account Request POST /account/<id>/activate Response Content-Type : application/json [General Response] Desactivate Account This endpoints desactivate an account Request POST /account/<id>/desactivate Response Content-Type : application/json [General Response] Account Information This endpoint gives information about an account Resquest GET /account/<id> Response Content-Type : application/json Field Description Format id the account ID UUID user_id the user ID UUID currency the account currency 3-letter ISO currency code balance the available balance Decimal state the account state, one of active , inactive Boolean created_at the instant when the account was created ISO date/time updated_at the instant when the account was last updated ISO date/time","title":"Account"},{"location":"account/#account","text":"","title":"Account"},{"location":"account/#create-account","text":"This endpoint creates one account. Note At the moment of creating an account, an outsourcing already offers a unique identifying ID that identifies the user. You only need to match this ID to an account. Warning If the external source is a social network, for example, a user can sign in with Facebook or Instagram and this generates 2 different users.","title":"Create Account"},{"location":"account/#request","text":"POST /account Content-Type : application/json Field Description Format user_id the user ID UUID currency the account currency 3-letter ISO currency code","title":"Request"},{"location":"account/#response","text":"Content-Type : application/json Field Description Format id the account ID UUID user_id the user ID UUID currency the account currency 3-letter ISO currency code balance the available balance Decimal state the account state, one of active , inactive Boolean created_at the instant when the account was created ISO date/time updated_at the instant when the account was last updated ISO date/time","title":"Response"},{"location":"account/#add-amount","text":"This endpoint permits add an amount to an account","title":"Add Amount"},{"location":"account/#request_1","text":"POST /account/<id>/amount Content-Type : application/json Field Description Format amount amount to add to account Decimal","title":"Request"},{"location":"account/#response_1","text":"Content-Type : application/json [General Response]","title":"Response"},{"location":"account/#activate-account","text":"This endpoints activate an account","title":"Activate Account"},{"location":"account/#request_2","text":"POST /account/<id>/activate","title":"Request"},{"location":"account/#response_2","text":"Content-Type : application/json [General Response]","title":"Response"},{"location":"account/#desactivate-account","text":"This endpoints desactivate an account","title":"Desactivate Account"},{"location":"account/#request_3","text":"POST /account/<id>/desactivate","title":"Request"},{"location":"account/#response_3","text":"Content-Type : application/json [General Response]","title":"Response"},{"location":"account/#account-information","text":"This endpoint gives information about an account","title":"Account Information"},{"location":"account/#resquest","text":"GET /account/<id>","title":"Resquest"},{"location":"account/#response_4","text":"Content-Type : application/json Field Description Format id the account ID UUID user_id the user ID UUID currency the account currency 3-letter ISO currency code balance the available balance Decimal state the account state, one of active , inactive Boolean created_at the instant when the account was created ISO date/time updated_at the instant when the account was last updated ISO date/time","title":"Response"},{"location":"apiOperations/","text":"Page last revised on: 2019-10-14 General Response All response messages has the fields 'code' and 'response'. The code is the type HTTP Status, and the response always return a 'status' and a body message when necessary. Errors The API uses the following error codes: Code Meaning 400 Bad Request -- Your request is invalid. 401 Unauthorized -- Your API key is wrong. 403 Forbidden -- Access to the requested resource or action is forbidden. 404 Not Found -- The requested resource could not be found. 405 Method Not Allowed -- You tried to access an endpoint with an invalid method. 406 Not Acceptable -- You requested a format that isn't JSON. 429 Too Many Requests -- You're sending too many requests. 500 Internal Server Error -- We had a problem with our server. Try again later. 503 Service Unavailable -- We're temporarily offline for maintenance. Please try again later.","title":"API"},{"location":"apiOperations/#general-response","text":"All response messages has the fields 'code' and 'response'. The code is the type HTTP Status, and the response always return a 'status' and a body message when necessary.","title":"General Response"},{"location":"apiOperations/#errors","text":"The API uses the following error codes: Code Meaning 400 Bad Request -- Your request is invalid. 401 Unauthorized -- Your API key is wrong. 403 Forbidden -- Access to the requested resource or action is forbidden. 404 Not Found -- The requested resource could not be found. 405 Method Not Allowed -- You tried to access an endpoint with an invalid method. 406 Not Acceptable -- You requested a format that isn't JSON. 429 Too Many Requests -- You're sending too many requests. 500 Internal Server Error -- We had a problem with our server. Try again later. 503 Service Unavailable -- We're temporarily offline for maintenance. Please try again later.","title":"Errors"},{"location":"gunicorn/","text":"Page last revised on: 2019-10-14 Why use Gunicorn and Nginx? Imagine if you had to do everything yourself with every new web application you build: Host static files Handle https connections Recover from crashes Make sure your application can scale up (via framework or your own code) That sounds like a lot of work. And a lot of work which is the same across most web applications you might come up with. This is good news! Because those problems are so common, you can build tools which take care of them. You don\u2019t even need to put that functionality into your web framework of choice. Three common building blocks when deploying a Python web application to production are: A web server (like nginx) A WSGI (Web Server Gateway Inteface) application server (like Gunicorn) Your actual application (written using a developer-friendly framework like Django) The web server accepts requests, takes care of general domain logic and takes care of handling https connections . Only requests which are meant to arrive at the application are passed on toward the application server and the application itself. The application code does not care about anything except being able to process single requests. Gunicorn takes care of everything which happens in-between the web server and your web application. This way, when coding up your a Django application you don\u2019t need to find your own solutions for: communicating with multiple web servers reacting to lots of web requests at once and distributing the load keepiung multiple processes of the web application running It's a good strategy running our Python Web Application in a WSGI Server. This way, deployment will be more stable, be able to handle more requests at once and be fast about it.","title":"Gunicorn"},{"location":"gunicorn/#why-use-gunicorn-and-nginx","text":"Imagine if you had to do everything yourself with every new web application you build: Host static files Handle https connections Recover from crashes Make sure your application can scale up (via framework or your own code) That sounds like a lot of work. And a lot of work which is the same across most web applications you might come up with. This is good news! Because those problems are so common, you can build tools which take care of them. You don\u2019t even need to put that functionality into your web framework of choice. Three common building blocks when deploying a Python web application to production are: A web server (like nginx) A WSGI (Web Server Gateway Inteface) application server (like Gunicorn) Your actual application (written using a developer-friendly framework like Django) The web server accepts requests, takes care of general domain logic and takes care of handling https connections . Only requests which are meant to arrive at the application are passed on toward the application server and the application itself. The application code does not care about anything except being able to process single requests. Gunicorn takes care of everything which happens in-between the web server and your web application. This way, when coding up your a Django application you don\u2019t need to find your own solutions for: communicating with multiple web servers reacting to lots of web requests at once and distributing the load keepiung multiple processes of the web application running It's a good strategy running our Python Web Application in a WSGI Server. This way, deployment will be more stable, be able to handle more requests at once and be fast about it.","title":"Why use Gunicorn and Nginx?"},{"location":"payment/","text":"Page last revised on: 2019-10-14 Payment All incoming and outgoing payments are represented as transactions and are processed in two stages from the user's perspective: a new transaction is created. the authorization transaction is accepted/declined . A new transaction has pending state, and a processed transaction's state can be one of completed, failed, reverted or declined. Create Payment This endpoint creates a new payment. Request POST account/id/payment Content-Type : application/json Warning To avoid duplicate payment submission because of an error in your code, request_id must be unique for each submitted payment. The request_id must be previously persisted on your side. Field Description Format request_id the client provided ID of the transaction (40 characters max) Text seller_id the ID of the receiving account UUID currency the transaction currency 3-letter ISO currency code reference an optional textual reference shown on the transaction Text Response Content-Type : application/json Field Description Format id the ID of the created payment UUID Get Payments This endpoint list all payments made by an account. Request GET /account/<id>/payments Response Content-Type : application/json Field Description Format id The payment id Text request_id the client provided ID of the transaction (40 characters max) Text seller_id the ID of the receiving account UUID created_at The date when the payment was created ISO date/time currency the transaction currency 3-letter ISO currency code amount The value of the payment Decimal state The state of the payment 'pending, completed or cancelled' Text reference an optional textual reference shown on the transaction Text -------- Create Transaction This endpoint creates a transaction associated with a payment Request POST /payment/<id>/transactions Content-Type : application/json Field Description Format amount amount to add to account Decimal reference an optional textual reference shown on the transaction Text Response Content-Type : application/json Field Description Format id the ID of the created transaction UUID Cancel Transaction This endpoint cancel a transaction associated with a payment Request POST /payment/<payment_id>/transactions/<transaction_id>/cancel Execute the payment This endpoint Request POST /payment/<id>/execute Response Content-Type : application/json [General Response] Authorization payment This endpoint creates a payment confirmation. Request POST /payment/<id>/authorize Response Content-Type : application/json [General Response] Get transactions This endpoint give all the transactions information Request GET /payment/<id>/transactions Response Content-Type : application/json Field Description Format id the ID of the created transaction UUID amount The amount of the transaction Decimal state the transaction state: completed , declined or failed Text id_payment The id of the payment which the transaction is associated UUID emission_date the instant when the transaction was created ISO date/time update_date the instant when the transaction was completed ISO date/time Get Transaction This endpoint gives information about a specific transaction Request GET /payment/<payment_id>/transactions/<transaction_id> Response Content-Type : application/json Field Description Format id the ID of the created transaction UUID amount The amount of the transaction Decimal state the transaction state: completed , declined or failed Text id_payment The id of the payment which the transaction is associated UUID emission_date the instant when the transaction was created ISO date/time update_date the instant when the transaction was completed ISO date/time","title":"Payment"},{"location":"payment/#payment","text":"All incoming and outgoing payments are represented as transactions and are processed in two stages from the user's perspective: a new transaction is created. the authorization transaction is accepted/declined . A new transaction has pending state, and a processed transaction's state can be one of completed, failed, reverted or declined.","title":"Payment"},{"location":"payment/#create-payment","text":"This endpoint creates a new payment.","title":"Create Payment"},{"location":"payment/#request","text":"POST account/id/payment Content-Type : application/json Warning To avoid duplicate payment submission because of an error in your code, request_id must be unique for each submitted payment. The request_id must be previously persisted on your side. Field Description Format request_id the client provided ID of the transaction (40 characters max) Text seller_id the ID of the receiving account UUID currency the transaction currency 3-letter ISO currency code reference an optional textual reference shown on the transaction Text","title":"Request"},{"location":"payment/#response","text":"Content-Type : application/json Field Description Format id the ID of the created payment UUID","title":"Response"},{"location":"payment/#get-payments","text":"This endpoint list all payments made by an account.","title":"Get Payments"},{"location":"payment/#request_1","text":"GET /account/<id>/payments","title":"Request"},{"location":"payment/#response_1","text":"Content-Type : application/json Field Description Format id The payment id Text request_id the client provided ID of the transaction (40 characters max) Text seller_id the ID of the receiving account UUID created_at The date when the payment was created ISO date/time currency the transaction currency 3-letter ISO currency code amount The value of the payment Decimal state The state of the payment 'pending, completed or cancelled' Text reference an optional textual reference shown on the transaction Text --------","title":"Response"},{"location":"payment/#create-transaction","text":"This endpoint creates a transaction associated with a payment","title":"Create Transaction"},{"location":"payment/#request_2","text":"POST /payment/<id>/transactions Content-Type : application/json Field Description Format amount amount to add to account Decimal reference an optional textual reference shown on the transaction Text","title":"Request"},{"location":"payment/#response_2","text":"Content-Type : application/json Field Description Format id the ID of the created transaction UUID","title":"Response"},{"location":"payment/#cancel-transaction","text":"This endpoint cancel a transaction associated with a payment","title":"Cancel Transaction"},{"location":"payment/#request_3","text":"POST /payment/<payment_id>/transactions/<transaction_id>/cancel","title":"Request"},{"location":"payment/#execute-the-payment","text":"This endpoint","title":"Execute the payment"},{"location":"payment/#request_4","text":"POST /payment/<id>/execute","title":"Request"},{"location":"payment/#response_3","text":"Content-Type : application/json [General Response]","title":"Response"},{"location":"payment/#authorization-payment","text":"This endpoint creates a payment confirmation.","title":"Authorization payment"},{"location":"payment/#request_5","text":"POST /payment/<id>/authorize","title":"Request"},{"location":"payment/#response_4","text":"Content-Type : application/json [General Response]","title":"Response"},{"location":"payment/#get-transactions","text":"This endpoint give all the transactions information","title":"Get transactions"},{"location":"payment/#request_6","text":"GET /payment/<id>/transactions","title":"Request"},{"location":"payment/#response_5","text":"Content-Type : application/json Field Description Format id the ID of the created transaction UUID amount The amount of the transaction Decimal state the transaction state: completed , declined or failed Text id_payment The id of the payment which the transaction is associated UUID emission_date the instant when the transaction was created ISO date/time update_date the instant when the transaction was completed ISO date/time","title":"Response"},{"location":"payment/#get-transaction","text":"This endpoint gives information about a specific transaction","title":"Get Transaction"},{"location":"payment/#request_7","text":"GET /payment/<payment_id>/transactions/<transaction_id>","title":"Request"},{"location":"payment/#response_6","text":"Content-Type : application/json Field Description Format id the ID of the created transaction UUID amount The amount of the transaction Decimal state the transaction state: completed , declined or failed Text id_payment The id of the payment which the transaction is associated UUID emission_date the instant when the transaction was created ISO date/time update_date the instant when the transaction was completed ISO date/time","title":"Response"}]}